@page
@model BackgroundServiceModel
@{
    ViewData["Title"] = "后台服务列表";
    ViewBag.Current = "sys.background-service";
}

<div class="table-responsive">
    <table class="table table-striped table-bordered data-view">
        <thead>
            <tr>
                <th>服务名称</th>
                <th>运行时间</th>
                <th>运行时长</th>
            </tr>
        </thead>
        <tbody class="data-content">
            @foreach (var item in Model.HostedServices)
            {
                <tr>
                    <td>
                        <div class="text-dark">
                            <b>@item.Name</b>
                            @if (item.IsRunning)
                            {
                                <span class="alert alert-success label">运行</span>
                            }
                            else
                            {
                                <span class="alert alert-danger label">完成</span>
                            }
                        </div>
                        <div class="text-secondary">
                            @item.Description
                        </div>
                    </td>
                    <td>
                        <div .visible="@(item.StartDate!=null)">
                            开始时间：@item.StartDate?.ToString("yyyy-MM-dd HH:mm:ss")
                        </div>
                        <div .visible="@(item.CompletedDate!=null)">
                            完成时间：@item.CompletedDate?.ToString("yyyy-MM-dd HH:mm:ss")
                        </div>
                    </td>
                    <td>@item.RunningTime</td>
                </tr>
            }
        </tbody>
    </table>
</div>

